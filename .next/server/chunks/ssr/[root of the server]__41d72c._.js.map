{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/pammi/Desktop/MERN/Dynamic-catalog/combination/PromptVision/app/canva-editor/components/CanvaEditor.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport CreativeEngine from '@cesdk/engine';\r\nimport { SignedIn, SignedOut, UserButton } from '@clerk/nextjs';\r\n\r\ninterface ExportResult {\r\n  fileType: string;\r\n  data: Blob;\r\n}\r\n\r\ninterface EngineError {\r\n  message: string;\r\n  code?: string;\r\n}\r\n\r\nexport default function CanvaEditor() {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let engine: CreativeEngine | null = null;\r\n\r\n    const initializeEditor = async () => {\r\n      if (!containerRef.current) return;\r\n\r\n      try {\r\n        engine = await CreativeEngine.init({\r\n          container: containerRef.current,\r\n          license: process.env.NEXT_PUBLIC_CREATIVE_SDK_LICENSE || '',\r\n          callbacks: {\r\n            onExport: (result: ExportResult) => {\r\n              console.log('Export result:', result);\r\n            },\r\n            onError: (error: EngineError) => {\r\n              console.error('Editor error:', error);\r\n            },\r\n          },\r\n        });\r\n\r\n        // Set up initial canvas\r\n        const scene = engine.scene.create();\r\n        engine.scene.loadFromURL(scene, '/templates/blank.scene');\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error('Failed to initialize editor:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeEditor();\r\n\r\n    return () => {\r\n      if (engine) {\r\n        engine.dispose();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-100\">\r\n      <header className=\"bg-white shadow-md p-4 flex justify-between items-center\">\r\n        <h1 className=\"text-xl font-bold\">Canva Editor</h1>\r\n        <SignedIn>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <UserButton afterSignOutUrl=\"/\" />\r\n          </div>\r\n        </SignedIn>\r\n        <SignedOut>\r\n          <p className=\"text-gray-500\">You are signed out. Please sign in to continue.</p>\r\n        </SignedOut>\r\n      </header>\r\n\r\n      <main className=\"flex-1 p-4\">\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center h-full\">\r\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\r\n          </div>\r\n        ) : (\r\n          <div ref={containerRef} className=\"w-full h-[calc(100vh-8rem)] rounded-lg shadow-lg\" />\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAJA;;;;;AAgBe,SAAS;IACtB,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAgC;QAEpC,MAAM,mBAAmB;YACvB,IAAI,CAAC,aAAa,OAAO,EAAE;YAE3B,IAAI;gBACF,SAAS,MAAM,0IAAA,CAAA,UAAc,CAAC,IAAI,CAAC;oBACjC,WAAW,aAAa,OAAO;oBAC/B,SAAS,6DAAgD;oBACzD,WAAW;wBACT,UAAU,CAAC;4BACT,QAAQ,GAAG,CAAC,kBAAkB;wBAChC;wBACA,SAAS,CAAC;4BACR,QAAQ,KAAK,CAAC,iBAAiB;wBACjC;oBACF;gBACF;gBAEA,wBAAwB;gBACxB,MAAM,QAAQ,OAAO,KAAK,CAAC,MAAM;gBACjC,OAAO,KAAK,CAAC,WAAW,CAAC,OAAO;gBAChC,aAAa;YACf,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,aAAa;YACf;QACF;QAEA;QAEA,OAAO;YACL,IAAI,QAAQ;gBACV,OAAO,OAAO;YAChB;QACF;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,8OAAC,yKAAA,CAAA,WAAQ;kCACP,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2KAAA,CAAA,aAAU;gCAAC,iBAAgB;;;;;;;;;;;;;;;;kCAGhC,8OAAC,yKAAA,CAAA,YAAS;kCACR,cAAA,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;0BAIjC,8OAAC;gBAAK,WAAU;0BACb,0BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;;;;;;;;;yCAGjB,8OAAC;oBAAI,KAAK;oBAAc,WAAU;;;;;;;;;;;;;;;;;AAK5C"}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}